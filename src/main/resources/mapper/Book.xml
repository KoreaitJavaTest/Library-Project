<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.library.application.mapper.BookMapper">
    <sql id="BookImgColums">
         board_idx
		, original_name
		, save_name
		, size
		, delete_yn
		, insert_time
		, delete_time
    </sql>



    <insert id="insertBookImg" parameterType="list">
        insert into `HyoHyunJinHo`.`Book_img`(
                    <include refid="BookImgColums"/>
        )values
        <foreach collection="list" item="img" separator=",">
            (
             #{img.boardIdx},
             #{img.originalName},
             #{img.saveName},
             #{img.size}
             ,'N'
             ,NOW()
             ,NULL
            )
        </foreach>
    </insert>
    <select id="selectByIdx" resultType="int" parameterType="com.library.application.dto.BookDto">
        select idx from `HyoHyunJinHo`.`Book` where userId =#{userId} and name = #{name}

    </select>
    <insert id="insertBook" parameterType="com.library.application.dto.BookDto">
        insert into `HyoHyunJinHo`.`Book`(name,author,publisher,userId)
        values
        (#{name},#{author},#{publisher},#{userId})

    </insert>






</mapper>